import{r as o,c as X,g as lt,E as st,j as u,A as ct}from"./index-HxUc9Z8H.js";import{aw as ut,ax as z,a3 as ve,i as q,ay as Ke,v as A,az as Z,aA as dt,aB as pt,aC as W,aD as ft,aE as vt,aF as We,aG as mt,aH as yt,V as $,aI as gt,aJ as bt,aK as ht,aL as Pt,w as Be,aM as Ot,aN as jt,aO as xt,aP as At,aQ as Et,aR as wt,O as Ge,aS as St,r as ne,X as Fe,aT as Tt,_ as Ve,$ as G,L as F,a4 as qe,aU as It,aV as Dt,a6 as ie,aW as Nt,aX as Rt,aY as Ct,s as Ue,R as kt,aZ as _t,D as Ye,a_ as Xe,u as U,a$ as Lt,Z as Ze,P as Mt,q as $t,o as Q,b0 as me,b1 as Kt,d as Wt,b2 as Bt,b3 as Gt,b4 as Ft,b5 as Vt,t as qt,a1 as Ut,b6 as Yt,b7 as Y,g as xe,T as Xt,b8 as Zt,ao as Jt,ap as Ht,aq as zt,ar as Qt,as as er,at as tr,au as rr,av as ar}from"./CategoricalChart-DWstgkyM.js";const Je=Math.cos,ee=Math.sin,C=Math.sqrt,te=Math.PI,oe=2*te,he={draw(e,r){const t=C(r/te);e.moveTo(t,0),e.arc(0,0,t,0,oe)}},nr={draw(e,r){const t=C(r/5)/2;e.moveTo(-3*t,-t),e.lineTo(-t,-t),e.lineTo(-t,-3*t),e.lineTo(t,-3*t),e.lineTo(t,-t),e.lineTo(3*t,-t),e.lineTo(3*t,t),e.lineTo(t,t),e.lineTo(t,3*t),e.lineTo(-t,3*t),e.lineTo(-t,t),e.lineTo(-3*t,t),e.closePath()}},He=C(1/3),ir=He*2,or={draw(e,r){const t=C(r/ir),a=t*He;e.moveTo(0,-t),e.lineTo(a,0),e.lineTo(0,t),e.lineTo(-a,0),e.closePath()}},lr={draw(e,r){const t=C(r),a=-t/2;e.rect(a,a,t,t)}},sr=.8908130915292852,ze=ee(te/10)/ee(7*te/10),cr=ee(oe/10)*ze,ur=-Je(oe/10)*ze,dr={draw(e,r){const t=C(r*sr),a=cr*t,n=ur*t;e.moveTo(0,-t),e.lineTo(a,n);for(let i=1;i<5;++i){const l=oe*i/5,s=Je(l),d=ee(l);e.lineTo(d*t,-s*t),e.lineTo(s*a-d*n,d*a+s*n)}e.closePath()}},de=C(3),pr={draw(e,r){const t=-C(r/(de*3));e.moveTo(0,t*2),e.lineTo(-de*t,-t),e.lineTo(de*t,-t),e.closePath()}},N=-.5,R=C(3)/2,ye=1/C(12),fr=(ye/2+1)*3,vr={draw(e,r){const t=C(r/fr),a=t/2,n=t*ye,i=a,l=t*ye+t,s=-i,d=l;e.moveTo(a,n),e.lineTo(i,l),e.lineTo(s,d),e.lineTo(N*a-R*n,R*a+N*n),e.lineTo(N*i-R*l,R*i+N*l),e.lineTo(N*s-R*d,R*s+N*d),e.lineTo(N*a+R*n,N*n-R*a),e.lineTo(N*i+R*l,N*l-R*i),e.lineTo(N*s+R*d,N*d-R*s),e.closePath()}};function mr(e,r){let t=null,a=ut(n);e=typeof e=="function"?e:z(e||he),r=typeof r=="function"?r:z(r===void 0?64:+r);function n(){let i;if(t||(t=i=a()),e.apply(this,arguments).draw(t,+r.apply(this,arguments)),i)return t=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:z(i),n):e},n.size=function(i){return arguments.length?(r=typeof i=="function"?i:z(+i),n):r},n.context=function(i){return arguments.length?(t=i??null,n):t},n}var yr=["type","size","sizeType"];function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ge.apply(null,arguments)}function Ae(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function Ee(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ae(Object(t),!0).forEach(function(a){gr(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ae(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function gr(e,r,t){return(r=br(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function br(e){var r=hr(e,"string");return typeof r=="symbol"?r:r+""}function hr(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Pr(e,r){if(e==null)return{};var t,a,n=Or(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function Or(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}var Qe={symbolCircle:he,symbolCross:nr,symbolDiamond:or,symbolSquare:lr,symbolStar:dr,symbolTriangle:pr,symbolWye:vr},jr=Math.PI/180,xr=e=>{var r="symbol".concat(Ke(e));return Qe[r]||he},Ar=(e,r,t)=>{if(r==="area")return e;switch(t){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*jr;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Er=(e,r)=>{Qe["symbol".concat(Ke(e))]=r},et=e=>{var{type:r="circle",size:t=64,sizeType:a="area"}=e,n=Pr(e,yr),i=Ee(Ee({},n),{},{type:r,size:t,sizeType:a}),l="circle";typeof r=="string"&&(l=r);var s=()=>{var p=xr(l),c=mr().type(p).size(Ar(t,a,l)),g=c();if(g!==null)return g},{className:d,cx:v,cy:y}=i,m=ve(i);return q(v)&&q(y)&&q(t)?o.createElement("path",ge({},m,{className:X("recharts-symbols",d),transform:"translate(".concat(v,", ").concat(y,")"),d:s()})):null};et.registerSymbol=Er;var le=e=>null;le.displayName="Cell";var tt=e=>e.graphicalItems.polarItems,wr=A([Z,dt],pt),se=A([tt,W,wr],ft),Sr=A([se],vt),ce=A([Sr,We],mt),Tr=A([ce,W,se],yt);A([ce,W,se],(e,r,t)=>t.length>0?e.flatMap(a=>t.flatMap(n=>{var i,l=$(a,(i=r.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):r?.dataKey!=null?e.map(a=>({value:$(a,r.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var we=()=>{},Ir=A([ce,W,se,gt,Z],bt),Dr=A([W,ht,Pt,we,Ir,we,Be,Z],Ot),rt=A([W,Be,ce,Tr,jt,Z,Dr],xt),Nr=A([rt,W,At],Et);A([W,rt,Nr,Z],wt);function Se(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function Te(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Se(Object(t),!0).forEach(function(a){Rr(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Se(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Rr(e,r,t){return(r=Cr(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Cr(e){var r=kr(e,"string");return typeof r=="symbol"?r:r+""}function kr(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var _r=(e,r)=>r,Pe=A([tt,_r],(e,r)=>e.filter(t=>t.type==="pie").find(t=>t.id===r)),Lr=[],Oe=(e,r,t)=>t?.length===0?Lr:t,at=A([We,Pe,Oe],(e,r,t)=>{var{chartData:a}=e;if(r!=null){var n;if(r?.data!=null&&r.data.length>0?n=r.data:n=a,(!n||!n.length)&&t!=null&&(n=t.map(i=>Te(Te({},r.presentationProps),i.props))),n!=null)return n}}),Mr=A([at,Pe,Oe],(e,r,t)=>{if(!(e==null||r==null))return e.map((a,n)=>{var i,l=$(a,r.nameKey,r.name),s;return t!=null&&(i=t[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=t[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?s=a.fill:s=r.fill,{value:Ge(l,r.dataKey),color:s,payload:a,type:r.legendType}})}),$r=A([at,Pe,Oe,St],(e,r,t,a)=>{if(!(r==null||e==null))return Sa({offset:a,pieSettings:r,displayedData:e,cells:t})}),pe={},Ie;function Kr(){return Ie||(Ie=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let a=t;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(t)===a}e.isPlainObject=r})(pe)),pe}var fe,De;function Wr(){return De||(De=1,fe=Kr().isPlainObject),fe}var Br=Wr();const Gr=lt(Br);function Ne(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function Re(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ne(Object(t),!0).forEach(function(a){Fr(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ne(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Fr(e,r,t){return(r=Vr(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Vr(e){var r=qr(e,"string");return typeof r=="symbol"?r:r+""}function qr(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function re(){return re=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},re.apply(null,arguments)}var Ce=(e,r,t,a,n)=>{var i=t-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+t,",").concat(r),l+="L ".concat(e+t-i/2,",").concat(r+n),l+="L ".concat(e+t-i/2-a,",").concat(r+n),l+="L ".concat(e,",").concat(r," Z"),l},Ur={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yr=e=>{var r=ne(e,Ur),{x:t,y:a,upperWidth:n,lowerWidth:i,height:l,className:s}=r,{animationEasing:d,animationDuration:v,animationBegin:y,isUpdateAnimationActive:m}=r,p=o.useRef(null),[c,g]=o.useState(-1),P=o.useRef(n),x=o.useRef(i),f=o.useRef(l),b=o.useRef(t),S=o.useRef(a),T=Fe(e,"trapezoid-");if(o.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var w=p.current.getTotalLength();w&&g(w)}catch{}},[]),t!==+t||a!==+a||n!==+n||i!==+i||l!==+l||n===0&&i===0||l===0)return null;var I=X("recharts-trapezoid",s);if(!m)return o.createElement("g",null,o.createElement("path",re({},ve(r),{className:I,d:Ce(t,a,n,i,l)})));var O=P.current,j=x.current,E=f.current,_=b.current,D=S.current,V="0px ".concat(c===-1?1:c,"px"),k="".concat(c,"px 0px"),B=Tt(["strokeDasharray"],v,d);return o.createElement(Ve,{animationId:T,key:T,canBegin:c>0,duration:v,easing:d,isActive:m,begin:y},w=>{var L=G(O,n,w),M=G(j,i,w),J=G(E,l,w),H=G(_,t,w),je=G(D,a,w);p.current&&(P.current=L,x.current=M,f.current=J,b.current=H,S.current=je);var ot=w>0?{transition:B,strokeDasharray:k}:{strokeDasharray:V};return o.createElement("path",re({},ve(r),{className:I,d:Ce(H,je,L,M,J),ref:p,style:Re(Re({},ot),r.style)}))})},Xr=["option","shapeType","propTransformer","activeClassName"];function Zr(e,r){if(e==null)return{};var t,a,n=Jr(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function Jr(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}function ke(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function ae(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ke(Object(t),!0).forEach(function(a){Hr(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ke(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Hr(e,r,t){return(r=zr(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function zr(e){var r=Qr(e,"string");return typeof r=="symbol"?r:r+""}function Qr(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ea(e,r){return ae(ae({},r),e)}function ta(e,r){return e==="symbols"}function _e(e){var{shapeType:r,elementProps:t}=e;switch(r){case"rectangle":return o.createElement(Dt,t);case"trapezoid":return o.createElement(Yr,t);case"sector":return o.createElement(It,t);case"symbols":if(ta(r))return o.createElement(et,t);break;case"curve":return o.createElement(qe,t);default:return null}}function ra(e){return o.isValidElement(e)?e.props:e}function aa(e){var{option:r,shapeType:t,propTransformer:a=ea,activeClassName:n="recharts-active-shape"}=e,i=Zr(e,Xr),l;if(o.isValidElement(r))l=o.cloneElement(r,ae(ae({},i),ra(r)));else if(typeof r=="function")l=r(i,i.index);else if(Gr(r)&&typeof r!="boolean"){var s=a(r,i);l=o.createElement(_e,{shapeType:t,elementProps:s})}else{var d=i;l=o.createElement(_e,{shapeType:t,elementProps:d})}return i.isActive?o.createElement(F,{className:n},l):l}var na=(e,r,t)=>{var a=ie();return(n,i)=>l=>{e?.(n,i,l),a(Nt({activeIndex:String(i),activeDataKey:r,activeCoordinate:n.tooltipPosition,activeGraphicalItemId:t}))}},ia=e=>{var r=ie();return(t,a)=>n=>{e?.(t,a,n),r(Rt())}},oa=(e,r,t)=>{var a=ie();return(n,i)=>l=>{e?.(n,i,l),a(Ct({activeIndex:String(i),activeDataKey:r,activeCoordinate:n.tooltipPosition,activeGraphicalItemId:t}))}},la=["key"],sa=["onMouseEnter","onClick","onMouseLeave"],ca=["id"],ua=["id"];function Le(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function h(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Le(Object(t),!0).forEach(function(a){da(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Le(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function da(e,r,t){return(r=pa(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function pa(e){var r=fa(e,"string");return typeof r=="symbol"?r:r+""}function fa(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},K.apply(null,arguments)}function ue(e,r){if(e==null)return{};var t,a,n=va(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function va(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}function ma(e){var r=o.useMemo(()=>Xe(e.children,le),[e.children]),t=U(a=>Mr(a,e.id,r));return t==null?null:o.createElement(Lt,{legendPayload:t})}var ya=o.memo(e=>{var{dataKey:r,nameKey:t,sectors:a,stroke:n,strokeWidth:i,fill:l,name:s,hide:d,tooltipType:v}=e,y={dataDefinedOnItem:a.map(m=>m.tooltipPayload),positions:a.map(m=>m.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:l,dataKey:r,nameKey:t,name:Ge(s,r),hide:d,type:v,color:l,unit:""}};return o.createElement(Mt,{tooltipEntrySettings:y})}),ga=(e,r)=>e>r?"start":e<r?"end":"middle",ba=(e,r,t)=>typeof r=="function"?Y(r(e),t,t*.8):Y(r,t,t*.8),ha=(e,r,t)=>{var{top:a,left:n,width:i,height:l}=r,s=Yt(i,l),d=n+Y(e.cx,i,i/2),v=a+Y(e.cy,l,l/2),y=Y(e.innerRadius,s,0),m=ba(t,e.outerRadius,s),p=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:d,cy:v,innerRadius:y,outerRadius:m,maxRadius:p}},Pa=(e,r)=>{var t=Q(r-e),a=Math.min(Math.abs(r-e),360);return t*a};function Oa(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var ja=(e,r)=>{if(o.isValidElement(e))return o.cloneElement(e,r);if(typeof e=="function")return e(r);var t=X("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:a}=r,n=ue(r,la);return o.createElement(qe,K({},n,{type:"linear",className:t}))},xa=(e,r,t)=>{if(o.isValidElement(e))return o.cloneElement(e,r);var a=t;if(typeof e=="function"&&(a=e(r),o.isValidElement(a)))return a;var n=X("recharts-pie-label-text",Oa(e));return o.createElement(Xt,K({},r,{alignmentBaseline:"middle",className:n}),a)};function Aa(e){var{sectors:r,props:t,showLabels:a}=e,{label:n,labelLine:i,dataKey:l}=t;if(!a||!n||!r)return null;var s=Ue(t),d=xe(n),v=xe(i),y=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,m=r.map((p,c)=>{var g=(p.startAngle+p.endAngle)/2,P=me(p.cx,p.cy,p.outerRadius+y,g),x=h(h(h(h({},s),p),{},{stroke:"none"},d),{},{index:c,textAnchor:ga(P.x,p.cx)},P),f=h(h(h(h({},s),p),{},{fill:"none",stroke:p.fill},v),{},{index:c,points:[me(p.cx,p.cy,p.outerRadius,g),P],key:"line"});return o.createElement(Ze,{zIndex:Ye.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(c)},o.createElement(F,null,i&&ja(i,f),xa(n,x,$(p,l))))});return o.createElement(F,{className:"recharts-pie-labels"},m)}function Ea(e){var{sectors:r,props:t,showLabels:a}=e,{label:n}=t;return typeof n=="object"&&n!=null&&"position"in n?o.createElement(Ut,{label:n}):o.createElement(Aa,{sectors:r,props:t,showLabels:a})}function wa(e){var{sectors:r,activeShape:t,inactiveShape:a,allOtherPieProps:n,shape:i,id:l}=e,s=U(Wt),d=U(Bt),v=U(Gt),{onMouseEnter:y,onClick:m,onMouseLeave:p}=n,c=ue(n,sa),g=na(y,n.dataKey,l),P=ia(p),x=oa(m,n.dataKey,l);return r==null||r.length===0?null:o.createElement(o.Fragment,null,r.map((f,b)=>{if(f?.startAngle===0&&f?.endAngle===0&&r.length!==1)return null;var S=v==null||v===l,T=String(b)===s&&(d==null||n.dataKey===d)&&S,I=s?a:null,O=t&&T?t:I,j=h(h({},f),{},{stroke:f.stroke,tabIndex:-1,[Vt]:b,[Ft]:n.dataKey});return o.createElement(F,K({key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},qt(c,f,b),{onMouseEnter:g(f,b),onMouseLeave:P(f,b),onClick:x(f,b)}),o.createElement(aa,K({option:i??O,index:b,shapeType:"sector",isActive:T},j)))}))}function Sa(e){var r,{pieSettings:t,displayedData:a,cells:n,offset:i}=e,{cornerRadius:l,startAngle:s,endAngle:d,dataKey:v,nameKey:y,tooltipType:m}=t,p=Math.abs(t.minAngle),c=Pa(s,d),g=Math.abs(c),P=a.length<=1?0:(r=t.paddingAngle)!==null&&r!==void 0?r:0,x=a.filter(O=>$(O,v,0)!==0).length,f=(g>=360?x:x-1)*P,b=g-x*p-f,S=a.reduce((O,j)=>{var E=$(j,v,0);return O+(q(E)?E:0)},0),T;if(S>0){var I;T=a.map((O,j)=>{var E=$(O,v,0),_=$(O,y,j),D=ha(t,i,O),V=(q(E)?E:0)/S,k,B=h(h({},O),n&&n[j]&&n[j].props);j?k=I.endAngle+Q(c)*P*(E!==0?1:0):k=s;var w=k+Q(c)*((E!==0?p:0)+V*b),L=(k+w)/2,M=(D.innerRadius+D.outerRadius)/2,J=[{name:_,value:E,payload:B,dataKey:v,type:m}],H=me(D.cx,D.cy,M,L);return I=h(h(h(h({},t.presentationProps),{},{percent:V,cornerRadius:typeof l=="string"?parseFloat(l):l,name:_,tooltipPayload:J,midAngle:L,middleRadius:M,tooltipPosition:H},B),D),{},{value:E,dataKey:v,startAngle:k,endAngle:w,payload:B,paddingAngle:Q(c)*P}),I})}return T}function Ta(e){var{showLabels:r,sectors:t,children:a}=e,n=o.useMemo(()=>!r||!t?[]:t.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[t,r]);return o.createElement(Kt,{value:r?n:void 0},a)}function Ia(e){var{props:r,previousSectorsRef:t,id:a}=e,{sectors:n,isAnimationActive:i,animationBegin:l,animationDuration:s,animationEasing:d,activeShape:v,inactiveShape:y,onAnimationStart:m,onAnimationEnd:p}=r,c=Fe(r,"recharts-pie-"),g=t.current,[P,x]=o.useState(!1),f=o.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),b=o.useCallback(()=>{typeof m=="function"&&m(),x(!0)},[m]);return o.createElement(Ta,{showLabels:!P,sectors:n},o.createElement(Ve,{animationId:c,begin:l,duration:s,isActive:i,easing:d,onAnimationStart:b,onAnimationEnd:f,key:c},S=>{var T=[],I=n&&n[0],O=I?.startAngle;return n?.forEach((j,E)=>{var _=g&&g[E],D=E>0?$t(j,"paddingAngle",0):0;if(_){var V=G(_.endAngle-_.startAngle,j.endAngle-j.startAngle,S),k=h(h({},j),{},{startAngle:O+D,endAngle:O+V+D});T.push(k),O=k.endAngle}else{var{endAngle:B,startAngle:w}=j,L=G(0,B-w,S),M=h(h({},j),{},{startAngle:O+D,endAngle:O+L+D});T.push(M),O=M.endAngle}}),t.current=T,o.createElement(F,null,o.createElement(wa,{sectors:T,activeShape:v,inactiveShape:y,allOtherPieProps:r,shape:r.shape,id:a}))}),o.createElement(Ea,{showLabels:!P,sectors:n,props:r}),r.children)}var Da={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ye.area};function Na(e){var{id:r}=e,t=ue(e,ca),{hide:a,className:n,rootTabIndex:i}=e,l=o.useMemo(()=>Xe(e.children,le),[e.children]),s=U(y=>$r(y,r,l)),d=o.useRef(null),v=X("recharts-pie",n);return a||s==null?(d.current=null,o.createElement(F,{tabIndex:i,className:v})):o.createElement(Ze,{zIndex:e.zIndex},o.createElement(ya,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),o.createElement(F,{tabIndex:i,className:v},o.createElement(Ia,{props:h(h({},t),{},{sectors:s}),previousSectorsRef:d,id:r})))}function nt(e){var r=ne(e,Da),{id:t}=r,a=ue(r,ua),n=Ue(a);return o.createElement(kt,{id:t,type:"pie"},i=>o.createElement(o.Fragment,null,o.createElement(_t,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n,maxRadius:r.maxRadius}),o.createElement(ma,K({},a,{id:i})),o.createElement(Na,K({},a,{id:i}))))}nt.displayName="Pie";function Ra(e){var r=ie();return o.useEffect(()=>{r(Zt(e))},[r,e]),null}var Ca=["layout"];function be(){return be=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},be.apply(null,arguments)}function ka(e,r){if(e==null)return{};var t,a,n=_a(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function _a(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}var La={top:5,right:5,bottom:5,left:5},it={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:La,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ma=o.forwardRef(function(r,t){var a,n=ne(r.categoricalChartProps,it),{layout:i}=n,l=ka(n,Ca),{chartName:s,defaultTooltipEventType:d,validateTooltipEventTypes:v,tooltipPayloadSearcher:y}=r,m={chartName:s,defaultTooltipEventType:d,validateTooltipEventTypes:v,tooltipPayloadSearcher:y,eventEmitter:void 0};return o.createElement(Jt,{preloadedState:{options:m},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:s},o.createElement(Ht,{chartData:n.data}),o.createElement(zt,{layout:i,margin:n.margin}),o.createElement(Qt,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),o.createElement(Ra,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),o.createElement(er,be({},l,{ref:t})))});function Me(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function $e(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Me(Object(t),!0).forEach(function(a){$a(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Me(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function $a(e,r,t){return(r=Ka(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ka(e){var r=Wa(e,"string");return typeof r=="symbol"?r:r+""}function Wa(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Ba=["item"],Ga=$e($e({},it),{},{layout:"centric",startAngle:0,endAngle:360}),Fa=o.forwardRef((e,r)=>{var t=ne(e,Ga);return o.createElement(Ma,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ba,tooltipPayloadSearcher:tr,categoricalChartProps:t,ref:r})});function Ua(){const[e,r]=o.useState([]),[t,a]=o.useState(null),[n,i]=o.useState("All"),[l,s]=o.useState(new Date().getFullYear()),[d,v]=o.useState([]),y=["January","February","March","April","May","June","July","August","September","October","November","December"],m=Array.from({length:5},(c,g)=>new Date().getFullYear()-g);o.useEffect(()=>{st.getAllEmployees().then(r)},[]),o.useEffect(()=>{if(t===null)return;async function c(){let P=(await ct.getAttendanceByEmployee(t)).filter(b=>new Date(b.date).getFullYear()===l);if(n!=="All"){const b=y.indexOf(n);P=P.filter(S=>new Date(S.date).getMonth()===b)}const x=P.filter(b=>b.status==="PRESENT").length,f=P.filter(b=>b.status==="ABSENT").length;v([{name:"Present",value:x},{name:"Absent",value:f}])}c()},[t,n,l]);const p=d.reduce((c,g)=>c+g.value,0);return u.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border h-80 flex flex-col",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Employee Monthly Attendance"}),u.jsxs("div",{className:"flex flex-row flex-1 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-3 w-56",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Employee"}),u.jsxs("select",{className:"w-full border rounded-lg p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-300",value:t??"",onChange:c=>a(Number(c.target.value)),children:[u.jsx("option",{value:"",children:"Select Employee"}),e.map(c=>u.jsxs("option",{value:c.id,children:[c.firstName," ",c.lastName]},c.id))]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Month"}),u.jsxs("select",{className:"w-full border rounded-lg p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-300",value:n,onChange:c=>i(c.target.value),children:[u.jsx("option",{value:"All",children:"All"}),y.map(c=>u.jsx("option",{children:c},c))]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Year"}),u.jsx("select",{className:"w-full border rounded-lg p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-300",value:l,onChange:c=>s(Number(c.target.value)),children:m.map(c=>u.jsx("option",{value:c,children:c},c))})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative",children:[u.jsx("svg",{width:"0",height:"0",children:u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"presentPie",x1:"0",y1:"0",x2:"1",y2:"1",children:[u.jsx("stop",{offset:"0%",stopColor:"#22c55e",stopOpacity:.9}),u.jsx("stop",{offset:"100%",stopColor:"#16a34a",stopOpacity:.7})]}),u.jsxs("linearGradient",{id:"absentPie",x1:"0",y1:"0",x2:"1",y2:"1",children:[u.jsx("stop",{offset:"0%",stopColor:"#ef4444",stopOpacity:.9}),u.jsx("stop",{offset:"100%",stopColor:"#dc2626",stopOpacity:.7})]})]})}),u.jsxs("div",{className:"relative w-full flex-1 flex items-center justify-center",children:[u.jsx(rr,{width:"100%",height:"100%",children:u.jsxs(Fa,{children:[u.jsx(nt,{data:d,cx:"50%",cy:"50%",innerRadius:70,outerRadius:100,dataKey:"value",paddingAngle:4,cornerRadius:10,children:d.map((c,g)=>u.jsx(le,{fill:g===0?"url(#presentPie)":"url(#absentPie)"},g))}),u.jsx(ar,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"}})]})}),u.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center pointer-events-none",children:[u.jsx("p",{className:"text-3xl font-bold text-gray-900",children:p}),u.jsx("p",{className:"text-gray-500 text-xs",children:"Total Records"})]})]}),u.jsxs("div",{className:"mt-2 flex gap-6 text-xs bg-white/80 px-4 py-1 rounded-full shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#22c55e"}}),u.jsx("span",{className:"text-gray-600",children:"Present"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#ef4444"}}),u.jsx("span",{className:"text-gray-600",children:"Absent"})]})]})]})]})]})}export{Ua as default};
